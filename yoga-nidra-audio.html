<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ô–æ–≥–∞ –ù–∏–¥—Ä–∞ –ú–µ–¥–∏—Ç–∞—Ü–∏—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            text-align: center;
            color: #5a67d8;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        label {
            font-weight: 600;
            color: #4a5568;
            font-size: 14px;
        }

        select, input[type="range"] {
            width: 100%;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            background: white;
        }

        input[type="range"] {
            padding: 0;
        }

        .slider-value {
            text-align: right;
            color: #718096;
            font-size: 13px;
            margin-top: -5px;
        }

        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
        }

        button {
            padding: 15px 30px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        #playBtn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        #playBtn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        #stopBtn {
            background: #fc8181;
            color: white;
        }

        #stopBtn:hover {
            background: #f56565;
            transform: translateY(-2px);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .status {
            text-align: center;
            padding: 15px;
            background: #edf2f7;
            border-radius: 8px;
            color: #4a5568;
            font-weight: 500;
            margin-bottom: 20px;
        }

        .text-content {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            max-height: 300px;
            overflow-y: auto;
            line-height: 1.8;
            color: #2d3748;
        }

        .text-content p {
            margin-bottom: 15px;
        }

        .note {
            background: #fff5f5;
            border-left: 4px solid #fc8181;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            font-size: 14px;
            color: #742a2a;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üßò‚Äç‚ôÄÔ∏è –ô–æ–≥–∞ –ù–∏–¥—Ä–∞ –ú–µ–¥–∏—Ç–∞—Ü–∏—è</h1>
        
        <div class="controls">
            <div class="control-group">
                <label for="voiceSelect">–ò–∑–±–µ—Ä–µ—Ç–µ –≥–ª–∞—Å:</label>
                <select id="voiceSelect"></select>
            </div>

            <div class="control-group">
                <label for="rateSlider">–°–∫–æ—Ä–æ—Å—Ç –Ω–∞ —Ä–µ—á—Ç–∞ (–ø–æ-–Ω–∏—Å–∫–æ = –ø–æ-–±–∞–≤–Ω–æ):</label>
                <input type="range" id="rateSlider" min="0.3" max="1" step="0.05" value="0.6">
                <div class="slider-value" id="rateValue">0.6</div>
            </div>

            <div class="control-group">
                <label for="pitchSlider">–í–∏—Å–æ—á–∏–Ω–∞ –Ω–∞ –≥–ª–∞—Å–∞ (–ø–æ-–Ω–∏—Å–∫–æ = –ø–æ-–¥—ä–ª–±–æ–∫):</label>
                <input type="range" id="pitchSlider" min="0.5" max="1.2" step="0.05" value="0.85">
                <div class="slider-value" id="pitchValue">0.85</div>
            </div>

            <div class="control-group">
                <label for="volumeSlider">–°–∏–ª–∞ –Ω–∞ –∑–≤—É–∫–∞:</label>
                <input type="range" id="volumeSlider" min="0.3" max="1" step="0.05" value="0.75">
                <div class="slider-value" id="volumeValue">0.75</div>
            </div>
        </div>

        <div class="buttons">
            <button id="playBtn">‚ñ∂Ô∏è –ü—É—Å–Ω–∏ –º–µ–¥–∏—Ç–∞—Ü–∏—è</button>
            <button id="stopBtn" disabled>‚èπÔ∏è –°–ø—Ä–∏</button>
        </div>

        <div class="status" id="status">–ì–æ—Ç–æ–≤ –∑–∞ –≤—ä–∑–ø—Ä–æ–∏–∑–≤–µ–∂–¥–∞–Ω–µ</div>

        <div class="text-content" id="textContent"></div>

        <div class="note">
            <strong>–ó–∞–±–µ–ª–µ–∂–∫–∞:</strong> –¢–æ–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑–ø–æ–ª–∑–≤–∞ –≤–≥—Ä–∞–¥–µ–Ω–∏—è speech synthesis –Ω–∞ –±—Ä–∞—É–∑—ä—Ä–∞. –ö–∞—á–µ—Å—Ç–≤–æ—Ç–æ –Ω–∞ –≥–ª–∞—Å–∞ –∑–∞–≤–∏—Å–∏ –æ—Ç –Ω–∞–ª–∏—á–Ω–∏—Ç–µ –≥–ª–∞—Å–æ–≤–µ –≤ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—Ç–∞ –≤–∏ —Å–∏—Å—Ç–µ–º–∞. –ó–∞ –Ω–∞–π-–¥–æ–±—ä—Ä —Ä–µ–∑—É–ª—Ç–∞—Ç –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ Chrome —Å –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–∏ –±—ä–ª–≥–∞—Ä—Å–∫–∏ –≥–ª–∞—Å–æ–≤–µ.
        </div>
    </div>

    <script>
        const meditationText = [
            "–î–æ–±—Ä–µ –¥–æ—à–ª–∏ –≤ —Ç–∞–∑–∏ –±—ä—Ä–∑–∞ —Å–µ—Å–∏—è –∑–∞ –¥—ä–ª–±–æ–∫–∞ —Ä–µ–ª–∞–∫—Å–∞—Ü–∏—è –∏ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ. –ê–∑ —Å—ä–º –í–∞—à–∏—è—Ç –ô–æ–≥–∞ –≤–æ–¥–∞—á –∏ —â–µ –≤–∏ –≤–æ–¥—è –ø—Ä–µ–∑ —Ç–∞–∑–∏ –π–æ–≥–∞ –Ω–∏–¥—Ä–∞, –¥–æ–∫–∞—Ç–æ —Å–µ –∫—ä–ø–µ—Ç–µ –≤ —É—Å–ø–æ–∫–æ—è–≤–∞—â–∏—è –∑–≤—É–∫ –Ω–∞ –∫–∞—Ñ—è–≤–∏—è —à—É–º.",
            "–ù–∞—Å—Ç–∞–Ω–µ—Ç–µ —Å–µ —É–¥–æ–±–Ω–æ –ª–µ–≥–Ω–∞–ª–∏ –ø–æ –≥—Ä—ä–± –≤—ä–≤ –ø–æ–∑–∞ –®–∞–≤–∞—Å–∞–Ω–∞. –ò–∑–ø—ä–Ω–µ—Ç–µ –∫—Ä–∞–∫–∞—Ç–∞ —Å–∏ –ª–µ–∫–æ –≤—Å—Ç—Ä–∞–Ω–∏, —Ä—ä—Ü–µ—Ç–µ —Å–∞ –¥–æ —Ç—è–ª–æ—Ç–æ —Å –¥–ª–∞–Ω–∏ –æ–±—ä—Ä–Ω–∞—Ç–∏ –Ω–∞–≥–æ—Ä–µ. –ó–∞—Ç–≤–æ—Ä–µ—Ç–µ –æ—á–∏ –Ω–µ–∂–Ω–æ –∏ —Å–µ —É–≤–µ—Ä–µ—Ç–µ, —á–µ –≤–∏ –µ –Ω–∞–ø—ä–ª–Ω–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ. –ù—è–º–∞ –Ω—É–∂–¥–∞ –¥–∞ –ø—Ä–∞–≤–∏—Ç–µ –Ω–∏—â–æ –¥—Ä—É–≥–æ, –æ—Å–≤–µ–Ω –¥–∞ —Å–ª—É—à–∞—Ç–µ –∏ –¥–∞ —Å–µ –æ—Ç–ø—É—Å–Ω–µ—Ç–µ.",
            "–û—Å—Ç–∞–≤–µ—Ç–µ —Ç—è–ª–æ—Ç–æ –≤–∏ –¥–∞ –ø–æ—Ç—ä–Ω–µ. –ü–æ—á—É–≤—Å—Ç–≤–∞–π—Ç–µ —Ç–µ–∂–µ—Å—Ç—Ç–∞ —Å–∏ –≤—ä—Ä—Ö—É –ø–æ–¥–∞. –ü–æ–∑–≤–æ–ª–µ—Ç–µ –Ω–∞ –≤—Å—è–∫–æ –Ω–∞–ø—Ä–µ–∂–µ–Ω–∏–µ –¥–∞ —Å–µ —Å—Ç–æ–ø–∏ –∏ –¥–∞ –∏–∑—Ç–µ—á–µ –Ω–∞–≤—ä–Ω.",
            "–©–µ –ø—Ä–µ–º–µ—Å—Ç–∏–º —Å—ä–∑–Ω–∞–Ω–∏–µ—Ç–æ —Å–∏ –ø—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω–∏ —á–∞—Å—Ç–∏ –Ω–∞ —Ç—è–ª–æ—Ç–æ. –ü—Ä–æ—Å—Ç–æ –Ω–∞–∑–æ–≤–∞–≤–∞–º —á–∞—Å—Ç—Ç–∞ –∏ –≤–∏–µ –ø—Ä–µ–º–µ—Å—Ç–≤–∞—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ—Ç–æ —Å–∏ —Ç–∞–º. –ù—è–º–∞ –Ω—É–∂–¥–∞ –¥–∞ —è –¥–≤–∏–∂–∏—Ç–µ, –ø—Ä–æ—Å—Ç–æ —è –ø–æ—á—É–≤—Å—Ç–≤–∞–π—Ç–µ.",
            "–ü—Ä–µ–º–µ—Å—Ç–µ—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ—Ç–æ —Å–∏ –∫—ä–º –ø–∞–ª–µ—Ü–∞ –Ω–∞ –¥—è—Å–Ω–∞—Ç–∞ —Ä—ä–∫–∞... –ø–æ–∫–∞–∑–∞–ª–µ—Ü—ä—Ç... —Å—Ä–µ–¥–Ω–∏—è—Ç –ø—Ä—ä—Å—Ç... –±–µ–∑–∏–º–µ–Ω–Ω–∏—è—Ç –ø—Ä—ä—Å—Ç... –∫—É—Ç—Ä–µ—Ç–æ... –¥—è—Å–Ω–∞ –¥–ª–∞–Ω... –∫–∏—Ç–∫–∞... –ø—Ä–µ–¥–º–∏—à–Ω–∏—Ü–∞... –ª–∞–∫—ä—Ç... –≥–æ—Ä–Ω–∞ —á–∞—Å—Ç –Ω–∞ —Ä—ä–∫–∞—Ç–∞... –¥—è—Å–Ω–æ —Ä–∞–º–æ... –¥—è—Å–Ω–∞ –ø–æ–¥–º–∏—à–Ω–∏—Ü–∞... –¥—è—Å–Ω–∞—Ç–∞ —á–∞—Å—Ç –Ω–∞ —Ç–∞–∑–∞... –¥—è—Å–Ω–æ –±–µ–¥—Ä–æ... –∫–æ–ª—è–Ω–æ... –ø—Ä–∞—Å–µ—Ü... –≥–ª–µ–∑–µ–Ω... –ø–µ—Ç–∞... —Å—Ç—ä–ø–∞–ª–æ... –ø–∞–ª–µ—Ü—ä—Ç –Ω–∞ –¥–µ—Å–Ω–∏—è –∫—Ä–∞–∫... –≤—Ç–æ—Ä–∏ –ø—Ä—ä—Å—Ç... —Ç—Ä–µ—Ç–∏... —á–µ—Ç–≤—ä—Ä—Ç–∏... –º–∞–ª–∫–∏—è—Ç –ø—Ä—ä—Å—Ç.",
            "–ü—Ä–µ–º–µ—Å—Ç–µ—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ—Ç–æ —Å–∏ –∫—ä–º –ø–∞–ª–µ—Ü–∞ –Ω–∞ –ª—è–≤–∞—Ç–∞ —Ä—ä–∫–∞... –ø–æ–∫–∞–∑–∞–ª–µ—Ü—ä—Ç... —Å—Ä–µ–¥–Ω–∏—è—Ç –ø—Ä—ä—Å—Ç... –±–µ–∑–∏–º–µ–Ω–Ω–∏—è—Ç –ø—Ä—ä—Å—Ç... –∫—É—Ç—Ä–µ—Ç–æ... –ª—è–≤–∞ –¥–ª–∞–Ω... –∫–∏—Ç–∫–∞... –ø—Ä–µ–¥–º–∏—à–Ω–∏—Ü–∞... –ª–∞–∫—ä—Ç... –≥–æ—Ä–Ω–∞ —á–∞—Å—Ç –Ω–∞ —Ä—ä–∫–∞—Ç–∞... –ª—è–≤–æ —Ä–∞–º–æ... –ª—è–≤–∞ –ø–æ–¥–º–∏—à–Ω–∏—Ü–∞... –ª—è–≤–∞—Ç–∞ —á–∞—Å—Ç –Ω–∞ —Ç–∞–∑–∞... –ª—è–≤–æ –±–µ–¥—Ä–æ... –∫–æ–ª—è–Ω–æ... –ø—Ä–∞—Å–µ—Ü... –≥–ª–µ–∑–µ–Ω... –ø–µ—Ç–∞... —Å—Ç—ä–ø–∞–ª–æ... –ø–∞–ª–µ—Ü—ä—Ç –Ω–∞ –ª–µ–≤–∏—è –∫—Ä–∞–∫... –≤—Ç–æ—Ä–∏ –ø—Ä—ä—Å—Ç... —Ç—Ä–µ—Ç–∏... —á–µ—Ç–≤—ä—Ä—Ç–∏... –º–∞–ª–∫–∏—è—Ç –ø—Ä—ä—Å—Ç.",
            "–ó–∞–¥–Ω–∞—Ç–∞ —á–∞—Å—Ç –Ω–∞ —Ç—è–ª–æ—Ç–æ. –î—è—Å–Ω–∞ –ø–ª–µ—à–∫–∞... –ª—è–≤–∞ –ø–ª–µ—à–∫–∞... —Ü–µ–ª–∏—è—Ç –≥—Ä—ä–±–Ω–∞–∫... –¥—è—Å–Ω–∞ —á–∞—Å—Ç –Ω–∞ —Ç–∞–∑–∞... –ª—è–≤–∞ —á–∞—Å—Ç –Ω–∞ —Ç–∞–∑–∞... —Ü—è–ª–∞—Ç–∞ –∑–∞–¥–Ω–∞ —á–∞—Å—Ç –Ω–∞ —Ç—è–ª–æ—Ç–æ.",
            "–í—ä—Ä—Ö—ä—Ç –Ω–∞ –≥–ª–∞–≤–∞—Ç–∞... —á–µ–ª–æ—Ç–æ... –¥—è—Å–Ω–æ—Ç–æ –æ–∫–æ... –ª—è–≤–æ—Ç–æ –æ–∫–æ... –¥—è—Å–Ω–∞—Ç–∞ –Ω–æ–∑–¥—Ä–∞... –ª—è–≤–∞—Ç–∞ –Ω–æ–∑–¥—Ä–∞... –¥—è—Å–Ω–∞—Ç–∞ –±—É–∑–∞... –ª—è–≤–∞—Ç–∞ –±—É–∑–∞... —É—Å—Ç–Ω–∏—Ç–µ... –±—Ä–∞–¥–∏—á–∫–∞—Ç–∞... –¶—è–ª–æ—Ç–æ –ª–∏—Ü–µ. –¶—è–ª–∞—Ç–∞ –≥–ª–∞–≤–∞.",
            "–û—Å—ä–∑–Ω–∞–π—Ç–µ —Ü—è–ª–æ—Ç–æ —Ç—è–ª–æ... –¶—è–ª–æ—Ç–æ —Ç—è–ª–æ –≤ –∫–æ–Ω—Ç–∞–∫—Ç —Å –ø–æ–¥–∞... –¶—è–ª–æ—Ç–æ —Ç—è–ª–æ, –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ–ø–æ–¥–≤–∏–∂–Ω–æ –∏ —Ä–µ–ª–∞–∫—Å–∏—Ä–∞–Ω–æ.",
            "–ë–ª–∞–≥–æ–¥–∞—Ä—è –≤–∏, —á–µ –ø—Ä–∞–∫—Ç–∏–∫—É–≤–∞—Ö—Ç–µ —Å –º–µ–Ω. –ù–æ—Å–µ—Ç–µ —Ç–∞–∑–∏ –¥—ä–ª–±–æ–∫–∞ —Ä–µ–ª–∞–∫—Å–∞—Ü–∏—è –∏ –º–∏—Ä —Å—ä—Å —Å–µ–±–µ —Å–∏ –ø—Ä–µ–∑ –æ—Å—Ç–∞–Ω–∞–ª–∞—Ç–∞ —á–∞—Å—Ç –æ—Ç –¥–µ–Ω—è."
        ];

        let synth = window.speechSynthesis;
        let voices = [];
        let currentUtterance = null;
        let currentParagraph = 0;

        // Display text
        const textContainer = document.getElementById('textContent');
        meditationText.forEach(paragraph => {
            const p = document.createElement('p');
            p.textContent = paragraph;
            textContainer.appendChild(p);
        });

        // Load voices
        function loadVoices() {
            voices = synth.getVoices();
            const voiceSelect = document.getElementById('voiceSelect');
            voiceSelect.innerHTML = '';

            // Filter Bulgarian voices first, then all voices
            const bgVoices = voices.filter(voice => voice.lang.startsWith('bg'));
            const otherVoices = voices.filter(voice => !voice.lang.startsWith('bg'));

            if (bgVoices.length > 0) {
                const bgGroup = document.createElement('optgroup');
                bgGroup.label = '–ë—ä–ª–≥–∞—Ä—Å–∫–∏ –≥–ª–∞—Å–æ–≤–µ';
                bgVoices.forEach((voice, index) => {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = `${voice.name} (${voice.lang})`;
                    bgGroup.appendChild(option);
                });
                voiceSelect.appendChild(bgGroup);
            }

            if (otherVoices.length > 0) {
                const otherGroup = document.createElement('optgroup');
                otherGroup.label = '–î—Ä—É–≥–∏ –≥–ª–∞—Å–æ–≤–µ';
                voices.forEach((voice, index) => {
                    if (!voice.lang.startsWith('bg')) {
                        const option = document.createElement('option');
                        option.value = index;
                        option.textContent = `${voice.name} (${voice.lang})`;
                        otherGroup.appendChild(option);
                    }
                });
                voiceSelect.appendChild(otherGroup);
            }

            // Select first Bulgarian voice by default
            if (bgVoices.length > 0) {
                voiceSelect.value = voices.indexOf(bgVoices[0]);
            }
        }

        // Update slider values
        document.getElementById('rateSlider').addEventListener('input', (e) => {
            document.getElementById('rateValue').textContent = e.target.value;
        });

        document.getElementById('pitchSlider').addEventListener('input', (e) => {
            document.getElementById('pitchValue').textContent = e.target.value;
        });

        document.getElementById('volumeSlider').addEventListener('input', (e) => {
            document.getElementById('volumeValue').textContent = e.target.value;
        });

        // Speak function
        function speakParagraph(index) {
            if (index >= meditationText.length) {
                document.getElementById('status').textContent = '–ú–µ–¥–∏—Ç–∞—Ü–∏—è—Ç–∞ –ø—Ä–∏–∫–ª—é—á–∏ ‚ú®';
                document.getElementById('playBtn').disabled = false;
                document.getElementById('stopBtn').disabled = true;
                currentParagraph = 0;
                return;
            }

            const utterance = new SpeechSynthesisUtterance(meditationText[index]);
            currentUtterance = utterance;

            const voiceSelect = document.getElementById('voiceSelect');
            const selectedVoice = voices[voiceSelect.value];
            if (selectedVoice) {
                utterance.voice = selectedVoice;
            }

            utterance.rate = parseFloat(document.getElementById('rateSlider').value);
            utterance.pitch = parseFloat(document.getElementById('pitchSlider').value);
            utterance.volume = parseFloat(document.getElementById('volumeSlider').value);
            utterance.lang = 'bg-BG';

            utterance.onstart = () => {
                document.getElementById('status').textContent = `–ò–∑–ø—ä–ª–Ω—è–≤–∞ —Å–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ ${index + 1} –æ—Ç ${meditationText.length}`;
            };

            utterance.onend = () => {
                currentParagraph = index + 1;
                // Add pause between paragraphs (2 seconds)
                setTimeout(() => {
                    speakParagraph(currentParagraph);
                }, 2000);
            };

            utterance.onerror = (event) => {
                console.error('Speech error:', event);
                document.getElementById('status').textContent = '–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –≤—ä–∑–ø—Ä–æ–∏–∑–≤–µ–∂–¥–∞–Ω–µ';
                document.getElementById('playBtn').disabled = false;
                document.getElementById('stopBtn').disabled = true;
            };

            synth.speak(utterance);
        }

        // Play button
        document.getElementById('playBtn').addEventListener('click', () => {
            document.getElementById('playBtn').disabled = true;
            document.getElementById('stopBtn').disabled = false;
            speakParagraph(currentParagraph);
        });

        // Stop button
        document.getElementById('stopBtn').addEventListener('click', () => {
            synth.cancel();
            document.getElementById('status').textContent = '–°–ø—Ä—è–Ω–æ';
            document.getElementById('playBtn').disabled = false;
            document.getElementById('stopBtn').disabled = true;
            currentParagraph = 0;
        });

        // Load voices
        loadVoices();
        if (synth.onvoiceschanged !== undefined) {
            synth.onvoiceschanged = loadVoices;
        }
    </script>
</body>
</html>